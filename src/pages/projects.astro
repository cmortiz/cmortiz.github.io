---
import BaseLayout from "../layouts/BaseLayout.astro";
import Card from "../components/Card.astro";
import projects from "../data/projects.json";

const title = "Projects";
---

<BaseLayout title={title}>
  <header class="page-header">
    <h1>{title}</h1>
  </header>

  <div class="grid">
    {
      projects.map((project, index) => (
        <Card
          index={index + 1}
          title={project.title}
          details={project.role}
          image={project.image}
          links={project.links}
        />
      ))
    }
  </div>
</BaseLayout>

<style>
  .page-header {
    margin-bottom: 2rem;
    text-align: center;
  }

  .page-header h1 {
    color: var(--primary);
  }

  /* Override container width for this page to allow wider cards */
  :global(.container) {
    max-width: 1200px !important;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(500px, 1fr));
    gap: 2rem;
  }

  @media (max-width: 600px) {
    .grid {
      grid-template-columns: 1fr;
    }
    /* Ensure cards aren't too wide on phones by adding margin if needed, 
       but 1fr with container padding usually works well. 
       User asked for "less wide", so maybe reduce min width or add margin? */
    :global(.container) {
      padding: 0 2rem; /* Increase padding on small screens effectively making content narrower */
    }
  }
</style>
